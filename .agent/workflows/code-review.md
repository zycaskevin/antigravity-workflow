---
description: 程式碼審查工作流
---

# 程式碼審查工作流 (Code Review)

> 觸發指令: `/code-review`
> 用途: 對當前程式碼進行自我審查

---

## 📋 執行流程

### 步驟 1 - 收集變更

1. 檢查 Git 狀態：`git status`
2. 查看變更內容：`git diff`
3. 識別修改的檔案清單

### 步驟 2 - 審查清單

針對每個變更檔案，檢查以下項目：

#### 🔴 Critical（必須修復）

- [ ] 安全漏洞（SQL 注入、XSS、敏感資訊外洩）
- [ ] 資料遺失風險
- [ ] 效能問題（N+1 查詢、無限迴圈）
- [ ] 邏輯錯誤（邊界條件、null 處理）

#### 🟠 Important（建議修復）

- [ ] 錯誤處理不完整
- [ ] 缺少輸入驗證
- [ ] 硬編碼的設定值
- [ ] 重複程式碼

#### 🟡 Minor（可選改進）

- [ ] 命名不清晰
- [ ] 註解不足或過多
- [ ] 程式碼格式不一致
- [ ] 可讀性改進

#### 💡 Suggestion（建議）

- [ ] 更好的設計模式
- [ ] 效能優化機會
- [ ] 測試覆蓋建議

---

### 步驟 3 - 輸出報告

```markdown
## 📊 Code Review 報告

### 變更摘要
- 修改檔案數: X
- 新增行數: +XX
- 刪除行數: -XX

### 發現的問題

#### 🔴 Critical (X 個)
| 檔案 | 行號 | 問題描述 | 建議修復 |
|------|------|---------|---------|
| ... | ... | ... | ... |

#### 🟠 Important (X 個)
| 檔案 | 行號 | 問題描述 | 建議修復 |
|------|------|---------|---------|
| ... | ... | ... | ... |

#### 🟡 Minor (X 個)
[列表...]

### ✅ 優點
- [列出程式碼的優點]

### 📋 建議的下一步
1. [修復 Critical 問題]
2. [處理 Important 問題]
3. [可選：處理 Minor 問題]
```

---

## 審查原則

1. **驗證優先**：所有建議必須基於實際程式碼，非假設
2. **技術正確性**：審查意見必須技術上正確
3. **建設性**：提供具體的改進方案，而非僅指出問題
4. **優先級明確**：按嚴重度分類，幫助開發者決定修復順序
